program: src/main.py
method: bayes
metric:
  name: avg_acc
  goal: maximize

parameters:
  dataset:
    value: tinyimagenet
  scenario:
    value: class_inc
  scenario.transformations.size:
    value: 224
  model:
    value: timm_vit
  method:
    value: composer_naive
  exp.seed: 
    value: 42      
  exp.batch_size:
    values: [512,256,128]     
  exp.epochs: 
    values: [50, 10, 5, 1]
  exp.gen_cm: 
    value: False
  exp.detect_anomaly:
    value: False
  fabric.accelerator:
    value: gpu   
  exp.log_per_batch:
    value: False
  exp.cleanup:
    value: True    

  # Model configuration
  model._target_: 
    value: timm.create_model
  model.model_name: 
    value: "vit_base_patch16_224_in21k"
  model.pretrained: 
    value: true
  model.num_classes: 
    value: 200 

  # Scenario configuration
  scenario._partial_:
    value: True
  scenario._target_: 
    value: continuum.ClassIncremental
  scenario.increment: 
    value: 20

  # Method configuration
  method._partial_: 
    value: True
  method.use_dynamic_alpha: 
    value: False
  method._target_: 
    value: method.Composer
  method.criterion: 
    value: CrossEntropyLoss
  method.criterion_scale:
    value: 1.0
  method.first_lr: 
    distribution: log_uniform_values
    min: 0.0001
    max: 0.01
  method.lr: 
    distribution: log_uniform_values 
    min: 0.0001
    max: 0.01
  method.beta:
    distribution: uniform
    min: 1e-3
    max: 1.0
  method.ema_scale:
    value: 0.95
 
  


command:
  - ${env}
  - python
  - ${program}
  - --config-name
  - naive_split_mnist_mlp.yaml
  - ${args_no_hyphens}